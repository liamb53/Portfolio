define("matrixGallery/skins/skins.json",[],function(){"use strict";var t={};return t["skins.viewer.gallerymatrix.MatrixGalleryIronSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:40,imageItem:{skin:"skins.viewer.gallerymatrix.MatrixDisplayerIronSkin",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%_pos":"height:30px !important;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:45px !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:45px !important;left:0;"}},t["skins.viewer.gallerymatrix.MatrixGalleryScotchTapeSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:50,imageItem:{skin:"skins.viewer.gallerymatrix.MatrixDisplayerScotchTapeSkin",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%_pos":"height:30px !important;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:45px !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;left:0;right:0;top:10px;bottom:45px !important;"}},t["wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGallerySeparateTextBoxSkin"]={react:[["div","itemsContainer",[],{}],["div","showMore",[],{}]],exports:{heightDiff:40,imageItem:{skin:"wysiwyg.common.components.matrixgallery.viewer.skins.MatrixDisplayerSeparateTextBoxSkin",styleGroup:"inherit"}},params:{showMoreClr:"COLOR",fntds:"FONT"},paramsDefaults:{showMoreClr:"color_13",fntds:"font_9"},css:{"%showMore":"color:[showMoreClr];[fntds]  cursor:pointer;text-decoration:underline !important;height:30px;line-height:30px;position:absolute;bottom:0;left:35%;right:35%;text-align:center;",'%[data-state~="fullView"] %showMore':"display:none;"}},t["wysiwyg.common.components.matrixgallery.viewer.skins.MatrixGalleryTextOnCenterSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.common.components.matrixgallery.viewer.skins.MatrixDisplayerTextOnCenterSkin",styleGroup:"inherit"}},params:{showMoreColor:"COLOR",fntds:"FONT"},paramsDefaults:{showMoreColor:"color_11",fntds:"font_9"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[showMoreColor];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.displayers.CircleDetailedDisplayer"]={react:[["div","imageWrapper",[],{},["div","zoom",[],{},["div","image",[],{}]]],["div","panel",[],{},["div","title",[],{}],["div","description",[],{}],["a","link",[],{}]],["div",null,["_xxx"],{}]],exports:{image:{skin:"skins.core.ImageSkin"}},params:{brw:"SIZE",rd:"BORDER_RADIUS",bg:"BG_COLOR",shd:"BOX_SHADOW",tdr:"URL",trns:"TRANSITION",txt:"COLOR",bg1:"BG_COLOR"},paramsDefaults:{brw:"0",rd:"50%",bg:"color_11",shd:"0 1px 3px rgba(0, 0, 0, 0.5)",tdr:"BASE_THEME_DIRECTORY",trns:"opacity 0.5s ease 0s",txt:"color_15",bg1:"color_11"},paramsMutators:{bg1:[["alpha",.6]]},css:{"%_xxx":"position:absolute;top:[brw];right:[brw];bottom:[brw];left:[brw];[rd]  background-color:[bg];[shd]  overflow:hidden;background:url([tdr]net.png) center center repeat;","%":"[rd]  background-color:[bg];[shd]  overflow:hidden;","%zoom":"position:absolute;top:[brw];right:[brw];bottom:[brw];left:[brw];overflow:hidden;","%panel":"opacity:0;[trns]  [rd]  background-color:[bg1];color:[txt];text-align:center;padding:20%;position:absolute;top:[brw];right:[brw];bottom:[brw];left:[brw];","%image":"overflow:hidden;[rd]","%:hover > %panel":"opacity:1;"}},t["wysiwyg.viewer.skins.displayers.PolaroidDisplayer"]={react:[["a","link",[],{}],["div","imageWrapper",[],{},["div",null,["_wrp"],{},["div","image",[],{}]]],["div","panel",["_panel"],{},["div","title",[],{}],["div","description",[],{}]],["a","link",[],{}]],exports:{heightDiff:40,image:{skin:"skins.core.ImageSkin"}},params:{bg:"BG_COLOR",rd:"BORDER_RADIUS"},paramsDefaults:{bg:"color_11",rd:"5px"},css:{"%":"background-color:[bg];[rd]","%imageWrapper":"position:absolute !important;top:10 !important;right:10 !important;bottom:10 !important;left:10 !important;","%_wrp":"position:absolute !important;top:10px !important;right:10px !important;bottom:10px !important;left:10px !important;","%panel":"position:absolute;bottom:0;left:0;right:0;color:#fff;padding:10px;"}},t["wysiwyg.viewer.skins.gallery.CircleMatrixGallery"]={react:[["div","itemsContainer",[],{}],["div","showMore",[],{}]],exports:{heightDiff:40,imageItem:{skin:"wysiwyg.viewer.skins.displayers.CircleDetailedDisplayer",styleGroup:"inherit"}},params:{shd:"BOX_SHADOW",bg:"BG_COLOR",txt:"COLOR"},paramsDefaults:{shd:"0 1px 3px rgba(0, 0, 0, 0.5)",bg:"color_1",txt:"color_10"},css:{"%showMore":"[shd]  background-color:[bg];color:[txt];cursor:pointer;position:absolute;bottom:0;left:35%;right:35%;text-align:center;height:30px;line-height:30px;",'%[data-state~="fullView"] %showMore':"display:none;"}},t["wysiwyg.viewer.skins.gallery.MatrixGallerySkin"]={react:[["div","itemsContainer",[],{}],["div","showMore",[],{}],["div",null,["_xxx"],{}]],exports:{heightDiff:40,imageItem:{skin:"wysiwyg.viewer.skins.displayers.DetailedDisplayerSkin",styleGroup:"displayer"}},params:{bg:"BG_COLOR",tdr:"URL"},paramsDefaults:{bg:"color_1",tdr:"BASE_THEME_DIRECTORY"},css:{"%showMore":"position:absolute;cursor:pointer;height:20px;line-height:20px;padding:0 5px;bottom:0;background-color:[bg];",'%[data-state~="fullView"] %showMore':"display:none;","%_xxx":"position:absolute;top:0;right:0;bottom:0;left:0;background:url([tdr]net.png) center center repeat;"}},t["wysiwyg.viewer.skins.gallery.PolaroidMatrixGallery"]={react:[["div","itemsContainer",[],{}],["div","showMore",[],{}]],exports:{imageItem:{skin:"wysiwyg.viewer.skins.displayers.PolaroidDisplayer",styleGroup:"displayer"}},css:{"%showMore":"position:absolute;cursor:pointer;height:20px;bottom:0;",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:20px;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.BlogMatrixGallery"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.BlogMatrixDisplayer",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerVintage"]={react:[["div",null,["_shadowImgTL","_bgShadow"],{}],["div",null,["_shadowImgTR","_bgShadow"],{}],["div",null,["_shadowImgBL","_bgShadow"],{}],["div",null,["_shadowImgBR","_bgShadow"],{}],["div",null,["_bg"],{}],["a","link",[],{},["div","imageWrapper",[],{},["div",null,["_imgBorder"],{},["div","image",[],{}]],["div","zoom",[],{}]],["ul",null,["_panel"],{},["li",null,["_ttl"],{},["h6","title",[],{}]],["li",null,["_desc"],{},["p","description",[],{}]]]]],exports:{heightDiff:80,image:{skin:"skins.core.ImageSkin"}},params:{shd:"BOX_SHADOW",bg:"BG_COLOR",brw:"SIZE",bgh:"BG_COLOR",trans:"TRANSITION",fntt:"FONT",ttl:"COLOR",txt:"COLOR",fntds:"FONT",tdr:"URL"},paramsDefaults:{shd:"0 1px 5px rgba(0, 0, 0, 0.1)",bg:"color_11",brw:"5px",bgh:"color_17",trans:"opacity 0.4s ease 0s",fntt:"font_6",ttl:"color_15",txt:"color_15",fntds:"font_8",tdr:"BASE_THEME_DIRECTORY"},css:{"%_bg":"position:absolute;top:0;right:0;bottom:0;left:0;[shd]  background:[bg];","%imageWrapper":"position:absolute;top:0;right:0;bottom:0;left:0;","%_imgBorder":"position:absolute;top:0;right:0;bottom:0;left:0;padding:[brw] [brw] 0 [brw];","%zoom":"position:absolute;top:[brw];bottom:0;left:[brw];right:[brw];background:[bgh];opacity:0;[trans]","%_panel":"height:60px;position:absolute;bottom:0;left:0;right:0;padding:0 10px;text-align:center;","%title":"[fntt]  color:[ttl];white-space:nowrap;overflow:hidden;position:absolute;bottom:44px;left:10px;right:10px;height:1.2em;","%description":"color:[txt];[fntds]  white-space:nowrap;overflow:hidden;position:absolute;bottom:28px;left:10px;right:10px;height:1.2em;","%link":"color:[txt];[fntds]  position:absolute;bottom:10px;left:10px;right:10px;text-decoration:underline !important;white-space:nowrap;overflow:hidden;height:1.2em;","%_bgShadow":"background-image:url([tdr]shadow_photo.png);background-repeat:no-repeat;width:168px;height:154px;","%_shadowImgTL":"background-position:0 0;position:absolute;left:-15px;top:-18px;","%_shadowImgTR":"background-position:100% 0;position:absolute;right:-17px;top:-20px;","%_shadowImgBL":"background-position:0 100%;position:absolute;left:-16px;bottom:-16px;","%_shadowImgBR":"background-position:100% 100%;position:absolute;right:-19px;bottom:-16px;",'%[data-state~="alignLeft"] %title':"text-align:left;",'%[data-state~="alignCenter"] %title':"text-align:center;",'%[data-state~="alignRight"] %title':"text-align:right;",'%[data-state~="alignLeft"] %description':"text-align:left;",'%[data-state~="alignCenter"] %description':"text-align:center;",'%[data-state~="alignRight"] %description':"text-align:right;",'%[data-state~="alignLeft"] %link':"text-align:left;",'%[data-state~="alignCenter"] %link':"text-align:center;",'%[data-state~="alignRight"] %link':"text-align:right;",'%[data-state~="rollover"]:hover %zoom':"opacity:1;[trans]"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryCircleSkin"]={react:[["div","itemsContainer",[],{}],["div","showMore",[],{}]],exports:{heightDiff:40,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerCircleSkin",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%showMore":"color:[txt];[fntds]  cursor:pointer;text-decoration:underline !important;height:30px;line-height:30px;position:absolute;bottom:0;left:35%;right:35%;text-align:center;",'%[data-state~="fullView"] %showMore':"display:none;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryDefaultSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerDefaultSkin",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryLiftedShadow"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerLiftedShadow",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryPolaroidSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerPolaroidSkin",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGallerySloopy"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerSloopy",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%":"z-index:0;","%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextBelowSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerTextBelowSkin",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTextSlideUpSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerTextSlideUpSkin",styleGroup:"inherit"}},params:{showMoreColor:"COLOR",fntds:"FONT"},paramsDefaults:{showMoreColor:"color_13",fntds:"font_9"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[showMoreColor];[fntds]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryTransparentSkin"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerTransparentSkin",styleGroup:"inherit"}},params:{showMoreColor:"COLOR",fntdsTrans:"FONT"},paramsDefaults:{showMoreColor:"color_13",fntdsTrans:"font_9"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[showMoreColor];[fntdsTrans]",'%[data-state~="fullView"] %showMore':"display:none;","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;"}},t["wysiwyg.viewer.skins.gallerymatrix.MatrixGalleryVintage"]={react:[["div","itemsContainer",[],{}],["div",null,["_pos"],{},["div","showMore",[],{}]]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.MatrixDisplayerVintage",styleGroup:"inherit"}},params:{txt:"COLOR",fntds:"FONT"},paramsDefaults:{txt:"color_15",fntds:"font_8"},css:{"%_pos":"height:2.3em;position:absolute;right:0;bottom:0;left:0;text-align:center;","%showMore":"cursor:pointer;display:inline-block;line-height:2.3em !important;padding:0 10px;text-decoration:underline !important;color:[txt];[fntds]","%itemsContainer":"position:absolute;top:0;right:0;bottom:2.3em;left:0;",'%[data-state~="fullView"] %showMore':"display:none;"}},t["wysiwyg.viewer.skins.gallerymatrix.PolaroidCustomHeightSkin"]={react:[["div","itemsContainer",[],{}],["div","showMore",[],{}]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.PolaroidDisplayerCustomHeightSkin",styleGroup:"inherit"}},params:{showMoreColor:"COLOR",fntds:"FONT"},paramsDefaults:{showMoreColor:"color_13",fntds:"font_8"},css:{"%itemsContainer":"position:absolute;top:0;right:0;bottom:25px;left:0;","%showMore":"color:[showMoreColor];[fntds]  position:absolute;left:0;right:0;bottom:0;text-align:center;text-decoration:underline !important;cursor:pointer;",'%[data-state~="fullView"] %showMore':"display:none;"}},t["wysiwyg.viewer.skins.gallerymatrix.TextBottomCustomHeightSkin"]={react:[["div","itemsContainer",[],{}],["div","showMore",[],{}]],exports:{heightDiff:25,imageItem:{skin:"wysiwyg.viewer.skins.gallerymatrix.TextBottomDisplayerCustomHeightSkin",styleGroup:"inherit"}},params:{showMoreColor:"COLOR",fntds:"FONT"},paramsDefaults:{showMoreColor:"color_13",fntds:"font_8"},css:{"%itemsContainer":"position:absolute;top:0;right:0;bottom:25px;left:0;","%showMore":"color:[showMoreColor];[fntds]  position:absolute;left:0;right:0;bottom:0;text-align:center;text-decoration:underline !important;cursor:pointer !important;",'%[data-state~="fullView"] %showMore':"display:none;"}},t}),define("matrixGallery",["lodash","skins","core","santaProps","utils","coreUtils","galleriesCommon","displayer","reactDOM","zepto","matrixGallery/skins/skins.json"],function(t,e,i,o,s,r,a,n,l,p,h){"use strict";function g(t,e,i){return i<=t*e?"fullView":"hiddenChildren"}function m(t){return Math.max(f.MIN_GALLERY_HEIGHT,t)}function d(e,i){if(e&&i&&e.skin===i.skin){var o=t.pick(e.style.properties,x),s=t.pick(i.style.properties,x);return!t.isEqual(o,s)}return!1}var c=i.compMixins,w=r.matrix.calculations,y=r.matrix.scalingCalculations,f=a.utils.galleriesHelperFunctions,u=s.galleriesCommonLayout,x=["topPadding","imgHeightDiff"],b={displayName:"MatrixGallery",propTypes:t.assign({shouldResetGalleryToOriginalState:o.Types.RenderFlags.shouldResetGalleryToOriginalState.isRequired,compProp:o.Types.Component.compProp.isRequired,compData:o.Types.Component.compData.isRequired,style:o.Types.Component.style.isRequired,skin:o.Types.Component.skin.isRequired,compTheme:o.Types.Component.theme,currentUrlPageId:o.Types.Component.currentUrlPageId.isRequired,isMobileView:o.Types.isMobileView,isMobileDevice:o.Types.Device.isMobileDevice,isTabletDevice:o.Types.Device.isTabletDevice,isExperimentOpen:o.Types.isExperimentOpen,compActions:o.Types.Component.compActions.isRequired},o.santaTypesUtils.getSantaTypesByDefinition(n)),statics:{useSantaTypes:!0},mixins:[c.skinBasedComp,c.skinInfo],getInitialState:function(){return this.getInitStateAndResetInstance(this.props)},getInitStateAndResetInstance:function(t){var e=t||this.props;this.shouldResetGalleryToOriginalState=e.shouldResetGalleryToOriginalState;var i=w.getAvailableRowsNumber(e.compProp.maxRows,e.compProp.numCols,e.compData.items.length),o=e.isMobileView?"mobileView":"desktopView";return this.showMoreClicked=!1,this.galleryHeight=m(e.style.height),this.itemHeight=w.getItemHeight(e.compProp.margin,this.galleryHeight,i,f.getSkinHeightDiff(e.skin)),{numberOfRows:i,$mobile:e.isMobileDevice||e.isTabletDevice?"mobile":"notMobile",$displayDevice:o,$state:g(i,e.compProp.numCols,e.compData.items.length)}},createDisplayer:function(t,i,o,s){var r=this.getDisplayerSkin(),a=e.skinsMap.get(this.props.skin,this.props.isExperimentOpen),n=e.skinsMap.get(r,this.props.isExperimentOpen),l=a.exports&&a.exports.bottomGap||0,p=this.getParams(x,r),h=f.getDisplayerHeightDiff(n,p,this.state.$displayDevice),g=f.getDisplayerWidthDiff(n,this.state.$displayDevice),m=y.getSizeAfterScaling({itemHeight:s,itemWidth:o,displayerData:t,imageMode:this.props.compProp.imageMode,widthDiff:g,heightDiff:h,bottomGap:l}),d=w.getItemPosition(i,o,s,this.props.compProp.margin,this.props.compProp.numCols);return this.createChildComponent(t,"wysiwyg.viewer.components.Displayer","imageItem",{key:t.id,ref:t.id,id:this.props.id+t.id,currentUrlPageId:this.props.currentUrlPageId,galleryId:this.props.id,galleryDataId:this.props.compData.id,imageWrapperSize:m.imageWrapperSize,imageIndex:i,heightDiff:h,widthDiff:g,bottomGap:l,style:{width:m.displayerSize.width,height:m.displayerSize.height,position:"absolute",left:d.left,top:d.top}})},createDisplayers:function(){var e=t.take(this.props.compData.items,this.props.compProp.numCols*this.state.numberOfRows),i=w.getItemWidth(this.props.compProp.margin,this.props.compProp.numCols,this.props.style.width,f.getSkinWidthDiff(this.props.skin)),o=this.itemHeight||w.getItemHeight(this.props.compProp.margin,this.galleryHeight,this.state.numberOfRows,f.getSkinHeightDiff(this.props.skin));return t.map(e,function(t,e){return this.createDisplayer(t,e,i,o)}.bind(this))},componentWillReceiveProps:function(e){var i=w.getAvailableRowsNumber(e.compProp.maxRows,e.compProp.numCols,e.compData.items.length),o={},s=!1;if(this.props.compProp.maxRows===e.compProp.maxRows&&this.props.compProp.numCols===e.compProp.numCols&&this.props.compData.items.length===e.compData.items.length||(s=!0,o.numberOfRows=i,this.galleryHeight=m(f.getGalleryHeight(this.state.numberOfRows,i,this.props.compProp.margin,this.props.skin,this.galleryHeight)),o.$state=g(i,e.compProp.numCols,e.compData.items.length)),this.props.style.height!==e.style.height&&(s=!0,this.galleryHeight=m(e.style.height)),this.shouldResetGalleryToOriginalState!==e.shouldResetGalleryToOriginalState&&(this.shouldResetGalleryToOriginalState&&this.resetGalleryState&&this.resetGalleryState(e),this.shouldResetGalleryToOriginalState=e.shouldResetGalleryToOriginalState),s||d(this.props.compTheme,e.compTheme)){this.itemHeight=w.getItemHeight(e.compProp.margin,this.galleryHeight,i,f.getSkinHeightDiff(this.props.skin));var r=f.getSkinHeightDiff(this.props.skin),a=o.numberOfRows||this.state.numberOfRows;this.galleryHeight=a*this.itemHeight+(a-1)*this.props.compProp.margin+r}t.isEmpty(o)||this.setState(o)},getSkinProperties:function(){var t={showMore:{children:this.props.compProp.showMoreLabel,onClick:this.showMoreRows,tabIndex:"0",onKeyDown:s.accessibility.keyboardInteractions.activateBySpaceOrEnterButton},itemsContainer:{children:this.createDisplayers(),style:{height:this.galleryHeight},onKeyDown:this.onKeyDown},"":{"data-height-diff":f.getSkinHeightDiff(this.props.skin),"data-width-diff":f.getSkinWidthDiff(this.props.skin),"data-presented-row":this.state.numberOfRows,style:{height:this.galleryHeight}}};return(this.showMoreClicked||"fullView"===this.state.$state)&&u.updateSkinPropsForFlexibleHeightGallery(t,this.galleryHeight),t},showMoreRows:function(){var t=w.getAvailableRowsNumber(this.state.numberOfRows+this.props.compProp.incRows,this.props.compProp.numCols,this.props.compData.items.length);this.showMoreClicked=!0,this.galleryHeight=m(f.getGalleryHeight(this.state.numberOfRows,t,this.props.compProp.margin,this.props.skin,this.galleryHeight)),this.registerReLayout(),this.setState({numberOfRows:t,$state:g(t,this.props.compProp.numCols,this.props.compData.items.length)})},getDisplayerSkin:function(){return this.getSkinExports().imageItem.skin},navigateGalleryFocus:function(t,e){var i,o=s.accessibility.getTabbaleElements(l.findDOMNode(this)),r=o.indexOf(t),a=Math.ceil(o.length/this.state.numberOfRows);"ArrowDown"===e&&(i=r+a)>=o.length&&(i%=o.length),"ArrowUp"===e&&(i=r-a)<0&&(i=o.length-Math.abs(i)),"ArrowRight"===e&&(i=r+1)>=o.length&&(i=0),"ArrowLeft"===e&&(i=r-1)<0&&(i=o.length-1);var n=o[i];n&&p(n).focus()},onKeyDown:function(e){var i=["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"];t.includes(i,e.key)&&(e.stopPropagation(),e.preventDefault(),this.navigateGalleryFocus(e.target,e.key))}};return i.compRegistrar.register("wysiwyg.viewer.components.MatrixGallery",b,!0),e.skinsMap.addBatch(h),b});
//# sourceMappingURL=matrixGallery.min.js.map